<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4-Pillar Ayurvedic Assessment System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            min-height: 90vh;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
            min-height: 500px;
        }

        /* Page States */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Patient Record Form */
        .patient-record h2 {
            color: #2d3436;
            margin-bottom: 25px;
            font-size: 1.8em;
            text-align: center;
            border-bottom: 3px solid #74b9ff;
            padding-bottom: 15px;
        }

        .patient-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
            font-size: 15px;
        }

        .form-group input, .form-group textarea {
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s;
            font-family: inherit;
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .required {
            color: #e74c3c;
        }

        /* Progress Navigation */
        .progress-nav {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .progress-nav h3 {
            text-align: center;
            margin-bottom: 20px;
            color: #2d3436;
        }

        .pillar-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .pillar-btn {
            padding: 20px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s;
            position: relative;
            text-align: center;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .pillar-btn .icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .pillar-btn.available {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            transform: translateY(0);
        }

        .pillar-btn.available:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,184,148,0.3);
        }

        .pillar-btn.completed {
            background: linear-gradient(135deg, #6c5ce7, #5a4fcf);
            color: white;
        }

        .pillar-btn.completed::after {
            content: '✓';
            position: absolute;
            top: 10px;
            right: 15px;
            background: #00b894;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        }

        .pillar-btn.locked {
            background: #ddd;
            color: #888;
            cursor: not-allowed;
        }

        .pillar-btn.locked::after {
            content: '🔒';
            position: absolute;
            top: 10px;
            right: 15px;
        }

        /* Assessment Pages */
        .assessment-header {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 25px;
        }

        .assessment-header h3 {
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .instructions {
            background: #e8f4fd;
            color: #2d3436;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 5px solid #74b9ff;
            font-weight: 500;
        }

        /* Assessment Tables */
        .assessment-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-radius: 12px;
            overflow: hidden;
        }

        .assessment-table th {
            background: linear-gradient(135deg, #2d3436, #636e72);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: 600;
        }

        .assessment-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #dee2e6;
            vertical-align: middle;
        }

        .assessment-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .parameter-cell {
            background: #e3f2fd !important;
            font-weight: 600;
            text-align: left !important;
            min-width: 150px;
        }

        .clickable-cell {
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 8px;
            margin: 2px;
            padding: 10px !important;
        }

        .clickable-cell:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .clickable-cell.selected {
            border: 3px solid #667eea;
            background: #e3f2fd !important;
            font-weight: bold;
            transform: scale(1.02);
        }

        /* Agni specific colors */
        .vishama { background: #fff3e0; }
        .tikshna { background: #ffebee; }
        .manda { background: #e8f5e8; }
        .sama { background: #e3f2fd; }

        /* Dosha specific colors */
        .vata-cell { background: #f3e5f5; }
        .pitta-cell { background: #ffecb3; }
        .kapha-cell { background: #e8f5e8; }

        /* Score Display */
        .score-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .score-card {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .score-card:hover {
            transform: translateY(-3px);
        }

        .score-card h4 {
            color: #2d3436;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .score-value {
            font-size: 2.2em;
            font-weight: bold;
            color: #667eea;
        }

        /* Results Section */
        .results-section {
            background: #f1f2f6;
            padding: 25px;
            border-radius: 12px;
            margin-top: 25px;
        }

        .results-section h4 {
            color: #2d3436;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .severity-indicator {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            margin: 5px;
            font-size: 13px;
        }

        .normal { background: #00b894; color: white; }
        .mild { background: #fdcb6e; color: #2d3436; }
        .moderate { background: #e17055; color: white; }
        .severe { background: #d63031; color: white; }

        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e9ecef;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .btn-primary {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #636e72, #2d3436);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff7675, #d63031);
            color: white;
        }

        .btn:disabled {
            background: #ddd;
            color: #999;
            cursor: not-allowed;
            transform: none;
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #00b894, #00a085);
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Status Messages */
        .status-message {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: 500;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-info {
            background: #cce7ff;
            color: #004085;
            border: 1px solid #b3d7ff;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .patient-form {
                grid-template-columns: 1fr;
            }
            
            .pillar-buttons {
                grid-template-columns: 1fr;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .score-summary {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🏥 4 PILLAR CLINICAL ASSESSMENT MODEL (4-PCAM)</h1>
<p><strong>Developer Name:</strong> Dr. Smitrajsinh Jadeja, Dr. Anirudh Bhatt, Dr. Yogesh Valaki, Dr. Diksha Kanani</p>
<p><strong>Guided By:</strong> Dr. Prakash Kumbar</p>
        </div>

        <div class="content">
            <!-- MAIN PAGE: Patient Record Form -->
            <div id="main-page" class="page active">
                <div class="patient-record">
                    <h2>📋 PATIENT CASE RECORD</h2>
                    <div class="patient-form">
                        <div class="form-group">
                            <label>Patient Name <span class="required">*</span></label>
                            <input type="text" id="patientName" placeholder="Enter full name" required>
                        </div>
                        <div class="form-group">
                            <label>Age/Sex <span class="required">*</span></label>
                            <input type="text" id="ageSex" placeholder="e.g., 35/M or 28/F" required>
                        </div>
                        <div class="form-group">
                            <label>OPD No./IPD No.</label>
                            <input type="text" id="patientId" placeholder="Enter patient ID/number">
                        </div>
                        <div class="form-group">
                            <label>Date of Assessment</label>
                            <input type="date" id="assessmentDate">
                        </div>
                        <div class="form-group">
                            <label>Chief Complaints <span class="required">*</span></label>
                            <textarea id="complaints" placeholder="Describe main symptoms and duration" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>Past History</label>
                            <textarea id="pastHistory" placeholder="Previous illnesses, surgeries, medications"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Additional Points</label>
                            <textarea id="additionalPoints" placeholder="Family history, lifestyle, occupation, etc."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Referred By</label>
                            <input type="text" id="referredBy" placeholder="Doctor/Clinic name">
                        </div>
                    </div>

                    <div class="progress-nav">
                        <h3>📊 Assessment Progress</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="pillar-buttons">
                            <button class="pillar-btn available" id="agni-btn" onclick="startAssessment('agni')">
                                <div class="icon">🔥</div>
                                <div>PILLAR 1: AGNI DUSTI</div>
                                <small>Digestive Fire Assessment</small>
                            </button>
                            <button class="pillar-btn locked" id="dosha-btn" onclick="startAssessment('dosha')">
                                <div class="icon">⚖️</div>
                                <div>PILLAR 2: DOSHA DUSTI</div>
                                <small>Constitutional Assessment</small>
                            </button>
                            <button class="pillar-btn locked" id="dhatu-btn" onclick="startAssessment('dhatu')">
                                <div class="icon">🧬</div>
                                <div>PILLAR 3: DHATU DUSTI</div>
                                <small>Tissue Assessment</small>
                            </button>
                            <button class="pillar-btn locked" id="srotas-btn" onclick="startAssessment('srotas')">
                                <div class="icon">🌊</div>
                                <div>PILLAR 4: SROTO DUSTI</div>
                                <small>Channel Assessment</small>
                            </button>
                        </div>
                    </div>

                    <div id="completionStatus" class="status-message status-info" style="display: none;">
                        <strong>Assessment Status:</strong> Complete all 4 pillars to generate final report.
                    </div>
                </div>
            </div>

            <!-- PILLAR 1: AGNI DUSTI ASSESSMENT -->
            <div id="agni-page" class="page">
                <div class="assessment-header">
                    <h3>🔥 PILLAR 1: AGNI DUSTI ASSESSMENT</h3>
                    <p>Based on types of Agni and classical lakṣaṇas from Charaka, Ashtanga Hridaya</p>
                </div>

                <div class="instructions">
                    <strong>📋 SCORING INSTRUCTIONS:</strong> Give 1 point for each symptom that matches a column (Viṣama/Tīkṣṇa/Manda/Sama). Click on the cell that best matches the patient's presentation for each parameter.
                </div>

                <table class="assessment-table">
                    <thead>
                        <tr>
                            <th style="width: 20%;">Parameter</th>
                            <th style="width: 20%;">Viṣama Agni<br><small>(Vata Duṣṭi)</small></th>
                            <th style="width: 20%;">Tīkṣṇa Agni<br><small>(Pitta Duṣṭi)</small></th>
                            <th style="width: 20%;">Manda Agni<br><small>(Kapha Duṣṭi)</small></th>
                            <th style="width: 20%;">Sama Agni<br><small>(Balanced)</small></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="parameter-cell">1. Hunger</td>
                            <td class="clickable-cell vishama" data-pillar="agni" data-parameter="hunger" data-type="vishama">Irregular, unpredictable</td>
                            <td class="clickable-cell tikshna" data-pillar="agni" data-parameter="hunger" data-type="tikshna">Excessive, frequent hunger</td>
                            <td class="clickable-cell manda" data-pillar="agni" data-parameter="hunger" data-type="manda">Poor, delayed hunger</td>
                            <td class="clickable-cell sama" data-pillar="agni" data-parameter="hunger" data-type="sama">Timely, appropriate</td>
                        </tr>
                        <tr>
                            <td class="parameter-cell">2. Digestion Timing</td>
                            <td class="clickable-cell vishama" data-pillar="agni" data-parameter="digestion" data-type="vishama">Sometimes fast, sometimes slow</td>
                            <td class="clickable-cell tikshna" data-pillar="agni" data-parameter="digestion" data-type="tikshna">Very rapid digestion</td>
                            <td class="clickable-cell manda" data-pillar="agni" data-parameter="digestion" data-type="manda">Very slow, sluggish</td>
                            <td class="clickable-cell sama" data-pillar="agni" data-parameter="digestion" data-type="sama">Timely, comfortable</td>
                        </tr>
                        <tr>
                            <td class="parameter-cell">3. Stool Formation</td>
                            <td class="clickable-cell vishama" data-pillar="agni" data-parameter="stool" data-type="vishama">Alternate constipation & loose</td>
                            <td class="clickable-cell tikshna" data-pillar="agni" data-parameter="stool" data-type="tikshna">Frequent, loose, burning</td>
                            <td class="clickable-cell manda" data-pillar="agni" data-parameter="stool" data-type="manda">Constipated, sticky, mucoid</td>
                            <td class="clickable-cell sama" data-pillar="agni" data-parameter="stool" data-type="sama">Well-formed, once/day</td>
                        </tr>
                        <tr>
                            <td class="parameter-cell">4. Bloating/Discomfort</td>
                            <td class="clickable-cell vishama" data-pillar="agni" data-parameter="bloating" data-type="vishama">Gas, gurgling, erratic</td>
                            <td class="clickable-cell tikshna" data-pillar="agni" data-parameter="bloating" data-type="tikshna">Burning sensation</td>
                            <td class="clickable-cell manda" data-pillar="agni" data-parameter="bloating" data-type="manda">Heaviness, lethargy</td>
                            <td class="clickable-cell sama" data-pillar="agni" data-parameter="bloating" data-type="sama">No discomfort</td>
                        </tr>
                        <tr>
                            <td class="parameter-cell">5. Appetite Response</td>
                            <td class="clickable-cell vishama" data-pillar="agni" data-parameter="appetite" data-type="vishama">Becomes erratic</td>
                            <td class="clickable-cell tikshna" data-pillar="agni" data-parameter="appetite" data-type="tikshna">Becomes hungrier</td>
                            <td class="clickable-cell manda" data-pillar="agni" data-parameter="appetite" data-type="manda">Becomes duller</td>
                            <td class="clickable-cell sama" data-pillar="agni" data-parameter="appetite" data-type="sama">Stays steady</td>
                        </tr>
                        <tr>
                            <td class="parameter-cell">6. Tongue Coating</td>
                            <td class="clickable-cell vishama" data-pillar="agni" data-parameter="tongue" data-type="vishama">Variable, sometimes dry</td>
                            <td class="clickable-cell tikshna" data-pillar="agni" data-parameter="tongue" data-type="tikshna">Red, yellow tinge</td>
                            <td class="clickable-cell manda" data-pillar="agni" data-parameter="tongue" data-type="manda">Thick white coating</td>
                            <td class="clickable-cell sama" data-pillar="agni" data-parameter="tongue" data-type="sama">Clean</td>
                        </tr>
                        <tr>
                            <td class="parameter-cell">7. After Food Sensation</td>
                            <td class="clickable-cell vishama" data-pillar="agni" data-parameter="afterfood" data-type="vishama">Bloated or unsatisfied</td>
                            <td class="clickable-cell tikshna" data-pillar="agni" data-parameter="afterfood" data-type="tikshna">Hungry again quickly</td>
                            <td class="clickable-cell manda" data-pillar="agni" data-parameter="afterfood" data-type="manda">Heavy, sleepy</td>
                            <td class="clickable-cell sama" data-pillar="agni" data-parameter="afterfood" data-type="sama">Light and content</td>
                        </tr>
                        <tr>
                            <td class="parameter-cell">8. Weight Change</td>
                            <td class="clickable-cell vishama" data-pillar="agni" data-parameter="weight" data-type="vishama">Unpredictable</td>
                            <td class="clickable-cell tikshna" data-pillar="agni" data-parameter="weight" data-type="tikshna">Weight loss despite eating</td>
                            <td class="clickable-cell manda" data-pillar="agni" data-parameter="weight" data-type="manda">Weight gain despite eating</td>
                            <td class="clickable-cell sama" data-pillar="agni" data-parameter="weight" data-type="sama">Maintains weight</td>
                        </tr>
                    </tbody>
                </table>

                <div class="score-summary">
                    <div class="score-card">
                        <h4>Viṣama Agni</h4>
                        <div class="score-value" id="agni-vishama-score">0</div>
                    </div>
                    <div class="score-card">
                        <h4>Tīkṣṇa Agni</h4>
                        <div class="score-value" id="agni-tikshna-score">0</div>
                    </div>
                    <div class="score-card">
                        <h4>Manda Agni</h4>
                        <div class="score-value" id="agni-manda-score">0</div>
                    </div>
                    <div class="score-card">
                        <h4>Sama Agni</h4>
                        <div class="score-value" id="agni-sama-score">0</div>
                    </div>
                </div>

                <div class="results-section">
                    <h4>📊 Agni Assessment Results</h4>
                    <div id="agni-results">Complete the assessment to see results...</div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="goToMain()">← Back to Main</button>
                    <button class="btn btn-primary" id="agni-complete-btn" onclick="completeAssessment('agni')" disabled>Complete Assessment</button>
                </div>
            </div>

           <!-- PILLAR 2: DOSHA DUSTI ASSESSMENT -->
<div id="dosha-page" class="page">
  <div class="assessment-header">
    <h3>⚖️ PILLAR 2: DOSHA DUSTI ASSESSMENT</h3>
    <p>Based on Classical Lakṣaṇas – Caraka, Suśruta, Vāgbhaṭa</p>
  </div>

  <div class="instructions">
    <strong>📋 SCORING INSTRUCTIONS:</strong> Score 0–2 per parameter (0 = Normal, 1 = Mild, 2 = Marked Abnormality). Max 20 points per dosha.
  </div>

  <!-- DOSHA TABLE -->
  <table class="assessment-table">
    <thead>
      <tr>
        <th>Parameter</th>
        <th>Vata Duṣṭi</th>
        <th>Pitta Duṣṭi</th>
        <th>Kapha Duṣṭi</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="parameter-cell">1. Agni</td>
        <td class="clickable-cell vata-cell" data-dosha="vata" data-parameter="agni" data-score="2">Irregular, variable</td>
        <td class="clickable-cell pitta-cell" data-dosha="pitta" data-parameter="agni" data-score="2">Very sharp, frequent hunger</td>
        <td class="clickable-cell kapha-cell" data-dosha="kapha" data-parameter="agni" data-score="2">Poor appetite, slow digestion</td>
      </tr>
      <tr>
        <td class="parameter-cell">2. Mala</td>
        <td class="clickable-cell vata-cell" data-dosha="vata" data-parameter="mala" data-score="2">Constipation, dry, scanty</td>
        <td class="clickable-cell pitta-cell" data-dosha="pitta" data-parameter="mala" data-score="2">Loose, yellowish, burning</td>
        <td class="clickable-cell kapha-cell" data-dosha="kapha" data-parameter="mala" data-score="2">Sticky, mucus-laden, sluggish</td>
      </tr>
      <tr>
        <td class="parameter-cell">3. Mutra</td>
        <td class="clickable-cell vata-cell" data-dosha="vata" data-parameter="mutra" data-score="2">Scanty, frequent, obstructed</td>
        <td class="clickable-cell pitta-cell" data-dosha="pitta" data-parameter="mutra" data-score="2">Yellow, burning</td>
        <td class="clickable-cell kapha-cell" data-dosha="kapha" data-parameter="mutra" data-score="2">Increased, cloudy</td>
      </tr>
      <tr>
        <td class="parameter-cell">4. Sveda</td>
        <td class="clickable-cell vata-cell" data-dosha="vata" data-parameter="sveda" data-score="2">Dry skin, no sweat</td>
        <td class="clickable-cell pitta-cell" data-dosha="pitta" data-parameter="sveda" data-score="2">Excessive sweating, odor</td>
        <td class="clickable-cell kapha-cell" data-dosha="kapha" data-parameter="sveda" data-score="2">Cold, little sweat</td>
      </tr>
      <tr>
        <td class="parameter-cell">5. Sparsha</td>
        <td class="clickable-cell vata-cell" data-dosha="vata" data-parameter="sparsha" data-score="2">Rough, dry, cold skin</td>
        <td class="clickable-cell pitta-cell" data-dosha="pitta" data-parameter="sparsha" data-score="2">Burning, warm, red skin</td>
        <td class="clickable-cell kapha-cell" data-dosha="kapha" data-parameter="sparsha" data-score="2">Thick, oily, cold skin</td>
      </tr>
      <tr>
        <td class="parameter-cell">6. Bāla/Ojas</td>
        <td class="clickable-cell vata-cell" data-dosha="vata" data-parameter="bala" data-score="2">Weakness, low endurance</td>
        <td class="clickable-cell pitta-cell" data-dosha="pitta" data-parameter="bala" data-score="2">Moderate stamina, irritability</td>
        <td class="clickable-cell kapha-cell" data-dosha="kapha" data-parameter="bala" data-score="2">Heavy, lazy, dull</td>
      </tr>
      <tr>
        <td class="parameter-cell">7. Manasika Bhava</td>
        <td class="clickable-cell vata-cell" data-dosha="vata" data-parameter="manasika" data-score="2">Anxiety, worry, fear</td>
        <td class="clickable-cell pitta-cell" data-dosha="pitta" data-parameter="manasika" data-score="2">Anger, short-tempered</td>
        <td class="clickable-cell kapha-cell" data-dosha="kapha" data-parameter="manasika" data-score="2">Dullness, depression, inertia</td>
      </tr>
      <tr>
        <td class="parameter-cell">8. Gati/Bhrama</td>
        <td class="clickable-cell vata-cell" data-dosha="vata" data-parameter="gati" data-score="2">Fast, jerky, tremors</td>
        <td class="clickable-cell pitta-cell" data-dosha="pitta" data-parameter="gati" data-score="2">Sudden shifts, burning</td>
        <td class="clickable-cell kapha-cell" data-dosha="kapha" data-parameter="gati" data-score="2">Sluggish, slow, heaviness</td>
      </tr>
      <tr>
        <td class="parameter-cell">9. Roopam (External)</td>
        <td class="clickable-cell vata-cell" data-dosha="vata" data-parameter="roopam" data-score="2">Thin, dry, cracked</td>
        <td class="clickable-cell pitta-cell" data-dosha="pitta" data-parameter="roopam" data-score="2">Red, inflamed, acne</td>
        <td class="clickable-cell kapha-cell" data-dosha="kapha" data-parameter="roopam" data-score="2">Puffy, moist, oily</td>
      </tr>
      <tr>
        <td class="parameter-cell">10. Jihva (Tongue)</td>
        <td class="clickable-cell vata-cell" data-dosha="vata" data-parameter="jihva" data-score="2">Dry, rough, blackish</td>
        <td class="clickable-cell pitta-cell" data-dosha="pitta" data-parameter="jihva" data-score="2">Red, yellow coat</td>
        <td class="clickable-cell kapha-cell" data-dosha="kapha" data-parameter="jihva" data-score="2">Thick, white coat</td>
      </tr>
    </tbody>
  </table>

  <!-- SCORE CARDS -->
  <div class="score-summary">
    <div class="score-card">
      <h4>Vata Score</h4>
      <div class="score-value" id="vata-score">0</div>
    </div>
    <div class="score-card">
      <h4>Pitta Score</h4>
      <div class="score-value" id="pitta-score">0</div>
    </div>
    <div class="score-card">
      <h4>Kapha Score</h4>
      <div class="score-value" id="kapha-score">0</div>
    </div>
  </div>

  <!-- RESULTS -->
  <div class="results-section">
    <h4>📊 Dosha Assessment Results</h4>
    <div id="dosha-results">Please complete all parameters to view results...</div>
  </div>

  <!-- BUTTONS -->
  <div class="nav-buttons">
    <button class="btn btn-secondary" onclick="goToMain()">← Back to Main</button>
    <button class="btn btn-primary" id="dosha-complete-btn" onclick="completeAssessment('dosha')" disabled>Complete Assessment</button>
  </div>
</div>


            <!-- PILLAR 3: DHATU DUSTI ASSESSMENT -->
            <div id="dhatu-page" class="page">
                <div class="assessment-header">
                    <h3>🧬 PILLAR 3: DHATU DUSTI ASSESSMENT</h3>
                    <p>Each dhātu assessed for classical signs of kṣaya (depletion) and vriddhi (excess)</p>
                </div>

                <div class="instructions">
                    <strong>📋 SCORING INSTRUCTIONS:</strong> Score 0-2 per symptom (0=Normal, 1=Mild Dūṣṭi, 2=Mod/Severe Dūṣṭi). Assess for both Kṣaya and Vriddhi symptoms.
                </div>

                <div class="status-message status-info">
                    <strong>Coming Soon:</strong> Detailed assessment tables for all 7 Dhatus (Rasa, Rakta, Mamsa, Meda, Asthi, Majja, Shukra) will be available in the next update.
                </div>

                <div class="results-section">
                    <h4>📊 Dhatu Assessment Results</h4>
                    <div id="dhatu-results">Dhatu assessment framework ready for implementation...</div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="goToMain()">← Back to Main</button>
                    <button class="btn btn-primary" id="dhatu-complete-btn" onclick="completeAssessment('dhatu')">Mark as Complete (Temporary)</button>
                </div>
            </div>

            <!-- PILLAR 4: SROTO DUSTI ASSESSMENT -->
            <div id="srotas-page" class="page">
                <div class="assessment-header">
                    <h3>🌊 PILLAR 4: SROTO DUSTI ASSESSMENT</h3>
                    <p>Each srotas evaluated based on classical lakshanas of dushti</p>
                </div>

                <div class="instructions">
                    <strong>📋 SCORING INSTRUCTIONS:</strong> Score 0-2 per symptom (0=Absent/Normal, 1=Mild, 2=Severe). Each srotas has specific symptoms to assess.
                </div>

                <div class="status-message status-info">
                    <strong>Coming Soon:</strong> Detailed assessment tables for all 9 Srotas (Annavaha, Rasavaha, Raktavaha, etc.) will be available in the next update.
                </div>

                <div class="results-section">
                    <h4>📊 Srotas Assessment Results</h4>
                    <div id="srotas-results">Srotas assessment framework ready for implementation...</div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="goToMain()">← Back to Main</button>
                    <button class="btn btn-primary" id="srotas-complete-btn" onclick="completeAssessment('srotas')">Mark as Complete (Temporary)</button>
                </div>
            </div>

            <!-- FINAL REPORT PAGE -->
            <div id="report-page" class="page">
                <div class="assessment-header">
                    <h3>📋 COMPREHENSIVE ASSESSMENT REPORT</h3>
                    <p>Complete analysis of all 4 pillars</p>
                </div>

                <div id="final-report-content">
                    <div class="status-message status-success">
                        <strong>Assessment Complete!</strong> All 4 pillars have been evaluated. Review the comprehensive report below.
                    </div>
                    
                    <div class="results-section">
                        <h4>📊 Summary Results</h4>
                        <div id="summary-results">Generate final report...</div>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="goToMain()">← Back to Main</button>
                    <button class="btn btn-primary" onclick="printFinalReport()">🖨️ Print Report</button>
                    <button class="btn btn-danger" onclick="resetAllAssessments()">🔄 Reset All</button>
                </div>
            </div>
        </div>
    </div>

<script>
// ======================= GLOBAL VARIABLES =======================
let currentPage = 'main';
const completedPillars = { agni: false, dosha: false, dhatu: false, srotas: false };

// ======================= PAGE NAVIGATION =======================
function showPage(pageId) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById(pageId + '-page').classList.add('active');
  currentPage = pageId;
}

function goToMain() {
  showPage('main');
}

function startAssessment(pillar) {
  if (document.getElementById(pillar + '-btn').classList.contains('locked')) return;
  showPage(pillar);
}

function completeAssessment(pillar) {
  completedPillars[pillar] = true;
  document.getElementById(pillar + '-btn').classList.remove('available');
  document.getElementById(pillar + '-btn').classList.add('completed');

  if (pillar === 'agni') document.getElementById('dosha-btn').classList.replace('locked', 'available');
  if (pillar === 'dosha') document.getElementById('dhatu-btn').classList.replace('locked', 'available');
  if (pillar === 'dhatu') document.getElementById('srotas-btn').classList.replace('locked', 'available');

  if (Object.values(completedPillars).every(Boolean)) {
    document.getElementById('completionStatus').style.display = 'block';
    showPage('report');
  } else {
    goToMain();
  }

  updateProgressBar();
}

function updateProgressBar() {
  const completedCount = Object.values(completedPillars).filter(v => v).length;
  const percent = (completedCount / 4) * 100;
  document.getElementById('progressFill').style.width = percent + '%';
}

// ======================= AGNI DUSTI ASSESSMENT =======================
const agniSelections = {
  hunger: null,
  digestion: null,
  stool: null,
  bloating: null,
  appetite: null,
  tongue: null,
  afterfood: null,
  weight: null
};

function updateAgniScores() {
  let vishama = 0, tikshna = 0, manda = 0, sama = 0;

  Object.values(agniSelections).forEach(type => {
    if (type === 'vishama') vishama++;
    else if (type === 'tikshna') tikshna++;
    else if (type === 'manda') manda++;
    else if (type === 'sama') sama++;
  });

  document.getElementById('agni-vishama-score').textContent = vishama;
  document.getElementById('agni-tikshna-score').textContent = tikshna;
  document.getElementById('agni-manda-score').textContent = manda;
  document.getElementById('agni-sama-score').textContent = sama;

  const allParamsSelected = Object.values(agniSelections).every(v => v !== null);
  document.getElementById('agni-complete-btn').disabled = !allParamsSelected;

  let dominantType = 'Sama Agni';
  let maxScore = Math.max(vishama, tikshna, manda, sama);
  if (maxScore === vishama) dominantType = 'Viṣama Agni (Vata Dūṣṭi)';
  else if (maxScore === tikshna) dominantType = 'Tīkṣṇa Agni (Pitta Dūṣṭi)';
  else if (maxScore === manda) dominantType = 'Manda Agni (Kapha Dūṣṭi)';
  else if (maxScore === sama) dominantType = 'Sama Agni (Balanced)';

  document.getElementById('agni-results').innerHTML = `<p>Dominant Agni Type: <strong>${dominantType}</strong></p>`;
}

document.querySelectorAll('[data-pillar="agni"]').forEach(cell => {
  cell.addEventListener('click', () => {
    const parameter = cell.getAttribute('data-parameter');
    const type = cell.getAttribute('data-type');

    document.querySelectorAll(`[data-pillar="agni"][data-parameter="${parameter}"]`)
      .forEach(c => c.classList.remove('selected'));

    cell.classList.add('selected');
    agniSelections[parameter] = type;
    updateAgniScores();
  });
});

// ======================= DOSHA DUSTI ASSESSMENT =======================
const doshaSelections = { vata: {}, pitta: {}, kapha: {} };

function interpretDoshaSeverity(score) {
  if (score <= 5) return `<span class="severity-indicator normal">Normal</span>`;
  if (score <= 10) return `<span class="severity-indicator mild">Mild</span>`;
  if (score <= 15) return `<span class="severity-indicator moderate">Moderate</span>`;
  return `<span class="severity-indicator severe">Severe</span>`;
}

document.querySelectorAll('[data-dosha]').forEach(cell => {
  cell.addEventListener('click', () => {
    const dosha = cell.getAttribute('data-dosha');
    const parameter = cell.getAttribute('data-parameter');
    const score = parseInt(cell.getAttribute('data-score'));

    document.querySelectorAll(`[data-dosha="${dosha}"][data-parameter="${parameter}"]`)
      .forEach(c => c.classList.remove('selected'));

    cell.classList.add('selected');
    doshaSelections[dosha][parameter] = score;
    updateDoshaScores();
  });
});

function updateDoshaScores() {
  const vataScore = Object.values(doshaSelections.vata).reduce((a, b) => a + b, 0);
  const pittaScore = Object.values(doshaSelections.pitta).reduce((a, b) => a + b, 0);
  const kaphaScore = Object.values(doshaSelections.kapha).reduce((a, b) => a + b, 0);

  document.getElementById('vata-score').textContent = vataScore;
  document.getElementById('pitta-score').textContent = pittaScore;
  document.getElementById('kapha-score').textContent = kaphaScore;

  const totalSelected = Object.keys(doshaSelections.vata).length +
                        Object.keys(doshaSelections.pitta).length +
                        Object.keys(doshaSelections.kapha).length;
  const allParamsCompleted = totalSelected === 30;

  document.getElementById('dosha-complete-btn').disabled = !allParamsCompleted;

  // Find dominant dosha
  let dominantDosha = 'Balanced';
  let maxScore = Math.max(vataScore, pittaScore, kaphaScore);
  if (maxScore === vataScore) dominantDosha = 'Vata Dūṣṭi Dominant';
  else if (maxScore === pittaScore) dominantDosha = 'Pitta Dūṣṭi Dominant';
  else if (maxScore === kaphaScore) dominantDosha = 'Kapha Dūṣṭi Dominant';

  let resultsHTML = `
    <p><strong>Vata:</strong> ${interpretDoshaSeverity(vataScore)}</p>
    <p><strong>Pitta:</strong> ${interpretDoshaSeverity(pittaScore)}</p>
    <p><strong>Kapha:</strong> ${interpretDoshaSeverity(kaphaScore)}</p>
    <p><strong>Dominant Dosha:</strong> ${dominantDosha}</p>
  `;
  document.getElementById('dosha-results').innerHTML = resultsHTML;
}

// ======================= REPORT, RESET, PRINT =======================
function printFinalReport() {
  window.print();
}

function resetAllAssessments() {
  if (!confirm("Are you sure you want to reset all assessments?")) return;
  location.reload();
}
</script>
    
</body>
</html>
